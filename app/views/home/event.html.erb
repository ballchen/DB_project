<style>
  #user-photo{
  text-align: center;
  }
  #user-photo img{
    border-radius: 200px;
    border: 5px white solid;
    padding: 3px;
    margin-top: 30px;
    width: 100px;
  }
  h1{
    text-align: center;
  }
  .back .button{
    color: white;
  }
  .back{
    position: fixed;
    margin: 20px;
  }
  accordion .panel{
  }
  accordion .panel-group{
    width: 60%;
    margin: 0 auto;
  }
  #timeline{
    height:100%;
    position:fixed;
    width:3px;
    background-color:white;
    left: 20%;
    top: 0;
  }
  accordion .event-details{
    position: relative;
    text-align: center;
    width: 100%;
    height: 50px;
  }
  accordion .images{
    position: absolute;
    width: 100%;
    height: 50px;
    overflow: hidden;
    margin: 0 auto 0 auto;
    text-align: center;
    background-color: black;
  }
  accordion .event-details:hover .images{
    opacity: 0.3;
    transition: all 0.3s;
  }
  accordion .images img{
    width: 100%;
    margin-top: -20%;
    margin-left: auto;
    margin-right: auto;
  }
  accordion .event-details:hover .names{
    visibility: visible;
    transition: all 0.3s;
  }
  accordion .names{
    position: absolute;
/*    font-size: 18px;*/
    text-align: center;
    top: 30%;
    left: 10%;
    z-index: 1;
    visibility: hidden;
  }
  .panel-title{
    text-align: center;
  }
  accordion .panel-default > .panel-heading {
    background-color: white;
    border: 0px;
  }
</style>

<div class="back"><a class="button" href="/"><i class="icon-chevron-left icon-white"></i>Back to home</a></div>
<% if current_user %>
  <div id="user-photo">
      <img src="<%= current_user.pic %>">
  </div>
<% end %>
<h1 ng-if='!all' ng-cloak>我的活動紀錄</h1>
<h1 ng-if='all' ng-cloak>所有人的活動紀錄</h1>
</br>
<accordion close-others="true">
  <accordion-group heading="{{year.year}}" ng-repeat='year in years'>
    <div ng-repeat='event in year.events'>
      <div class="event-details">
        <div ng-bind='event.name' class="names"></div>
        <div class="images"><img ng-src='{{event.cover}}'></div>
      </div>
    </div>
  </accordion-group>
</accordion>

<script id="template/accordion/accordion-group.html" type="text/ng-template">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{'text-muted': isDisabled}">{{heading}}</span> </a><i class="icon-flag"></i>
      </h4>
    </div>
    <div class="panel-collapse" collapse="!isOpen">
      <div class="panel-body" ng-transclude style=""></div>
    </div>
  </div>
</script>
<script id="template/accordion/accordion.html" type="text/ng-template">
  <div class="panel-group" ng-transclude></div>
</script>
